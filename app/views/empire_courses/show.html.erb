<p id="notice"><%= notice %></p>

<div class="page-header ">
</br>
  <h1 class="text-center"><strong><%= @empire_course.title %></strong> </br><small>Course: <%= @empire_course.number %><%= @empire_course.version%></small></h1>
  <div class="text-center">
    <div class="btn-group" >
      <%= link_to 'Add Task', new_course_creation_task_path(:empire_course_id => @empire_course, :title => @empire_course.title, :temp => @empire_course.extra_s), class: 'btn btn-primary' %>
      <%= link_to 'Back to Index', empire_courses_path, class: 'btn btn-primary' %>
      <%= link_to 'Edit Course', edit_empire_course_path(@empire_course), class: 'btn btn-primary' %>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-lg-offset-1">
    <p><strong>Category:</strong> <%= @empire_course.category %></p>
    <p><strong>Hours:</strong> <%= @empire_course.hours %></p>
    <p><strong>Course Type:</strong> <%= @empire_course.extra_s %></p>
    <p><strong>Development Status:</strong> <%= @empire_course.extra_b == true ? 'Complete' : 'In-progress' %></p>
  </div>
</div>

</br>

<div class="well well-white col-lg-10 col-lg-offset-1">
<h2 class="text-center">Not Assigned</h2>

<table class="table table-striped table-bordered">
  <thead>
    <th width="40%">Task</th>
    <th>Notes</th>
    <th width="20%"></th>
    <!-- <th></th> -->
  </thead>
  <tbody>
    <% @course_creation_tasks.each do |course_creation_task| %>
    <% if course_creation_task.empire_course_id == @empire_course.id && course_creation_task.assign_1.blank? %>
    <tr>
      <td><%= link_to course_creation_task.course_creation_templete.templete_type, course_creation_task %></td>
      <td><%= course_creation_task.task_note_1 %></td>
      <td><%= link_to 'Assign / Edit / Update', edit_course_creation_task_path(course_creation_task, :course => @empire_course.id, :task => course_creation_task.course_creation_templete.templete_type) %></td>
      <!-- <td><%#= link_to 'View', course_creation_task %></td> -->
    </tr>
    <% end %>
    <% end %>
  </tbody>
</table>
</br>

<h2 class="text-center">In-progress</h2>

<table class="table table-striped table-bordered">
  <thead>
    <th width="40%">Task</th>
    <th>Assigned</th>
    <th>Notes</th>
    <th width="20%"></th>
    <!-- <th></th> -->
  </thead>
  <tbody>
    <% @course_creation_tasks.each do |course_creation_task| %>
    <% if course_creation_task.empire_course_id == @empire_course.id && course_creation_task.extra_s != 'Complete' && course_creation_task.assign_1.blank? == false %>
    <tr>
      <td><%= link_to course_creation_task.course_creation_templete.templete_type, course_creation_task %></td>
      <td><%= course_creation_task.assign_3.blank? == false ? "#{course_creation_task.assign_3}, #{course_creation_task.assign_2}, #{course_creation_task.assign_1}" : course_creation_task.assign_2.blank? == false ? "#{course_creation_task.assign_2}, #{course_creation_task.assign_1}" : course_creation_task.assign_1 %></td>
      <td><%= course_creation_task.task_note_1 %></td>
      <td><%= link_to 'Assign / Edit / Update', edit_course_creation_task_path(course_creation_task, :course => @empire_course.id, :task => course_creation_task.course_creation_templete.templete_type) %></td>
      <!-- <td><%#= link_to 'View', course_creation_task %></td> -->
    </tr>
    <% end %>
    <% end %>
  </tbody>
</table>
</br>

<h2 class="text-center">Completed </h2>
<table class="table table-striped table-bordered">
  <thead>
    <th width="40%">Task</th>
    <th width="">Date Complete</th>
    <th>Completed By</th>
    <th>Notes</th>
    <th></th>
    <!-- <th></th> -->
  </thead>
  <tbody>
    <% @course_creation_tasks.each do |course_creation_task| %>
    <% if course_creation_task.empire_course_id == @empire_course.id && course_creation_task.extra_s == 'Complete'%>
    <tr>
      <td><%= link_to course_creation_task.course_creation_templete.templete_type, course_creation_task %></td>
      <td class="green"><%= course_creation_task.extra_d.blank? ? 'nil' : course_creation_task.extra_d.strftime("%b %-d, %Y") %></td>
      <td><%= course_creation_task.assign_3.blank? == false ? "#{course_creation_task.assign_3}, #{course_creation_task.assign_2}, #{course_creation_task.assign_1}" : course_creation_task.assign_2.blank? == false ? "#{course_creation_task.assign_2}, #{course_creation_task.assign_1}" : course_creation_task.assign_1 %></td>
      <td><%= course_creation_task.task_note_1 %></td>
      <td><%= link_to 'Edit', edit_course_creation_task_path(course_creation_task, :course => @empire_course.id, :task => course_creation_task.course_creation_templete.templete_type) %></td>
      <!-- <td><%#= link_to 'View', course_creation_task %></td> -->
    </tr>
    <% end %>
    <% end %>
  </tbody>
</table>
</div>
